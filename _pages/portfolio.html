---
layout: "single"
permalink: /portfolio/
title: "PORTFOLIO - Code the Story"
author_profile: true
---
<?php
	$itemList = "../assets/js/portItemList.js?" . filemtime("../assets/js/portItemList.js");
?>


		<div class="portfolio-area">
			<div class="port-type-list">
				<div class="slider">
					<div class="slider-header">
						<p class="slider-title">데이터저널리즘 <span class="eg">Data Journalism·Data Visualization</span></p>
					</div>
					<div class="slider-wrapper">
						<div class="slider-body">
							<ul>
								<li data-id="p0">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
								<li data-id="p1">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
								<li data-id="p2">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
								<li data-id="p3">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
								<li data-id="p4">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
							</ul>
						</div>
					</div>
					<div class="arrow prev" id="prev"><img src="http://img.khan.co.kr/spko/storytelling/2020/underground/arrow-prev-black.png" alt="이전"></div>
					<div class="arrow next" id="next"><img src="http://img.khan.co.kr/spko/storytelling/2020/underground/arrow-next-black.png" alt="다음"></div>
				</div>
				<div class="slider">
					<div class="slider-header">
						<p class="slider-title">인터랙티브 뉴스 <span class="eg">Interactive·storytelling news</span></p>
					</div>
					<div class="slider-wrapper">
						<div class="slider-body">
							<ul>
								<li data-id="p5">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
								<li data-id="p6">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>
								<li data-id="p7">
									<div class="each-item-wrap">
										<div class="slider-item">
											<div class="item-thumb"><img src="../assets/images/port/port-thumb-1.jpg" alt="썸네일1"></div>
											<p class="item-title">반지하 실태 보고서</p>
											<span class="date">2020.04</span>
										</div>
									</div>
								</li>

							</ul>
						</div>
					</div>
					<div class="arrow prev" id="prev"><img src="http://img.khan.co.kr/spko/storytelling/2020/underground/arrow-prev-black.png" alt="이전"></div>
					<div class="arrow next" id="next"><img src="http://img.khan.co.kr/spko/storytelling/2020/underground/arrow-next-black.png" alt="다음"></div>
				</div>
				
			</div>
		</div>

	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<!--<script type="text/javascript" src="<?php echo $itemList; ?>"></script>-->
	<script type="text/javascript" src="../assets/js/portItemList.js?"></script>
	<script>

		$("#page-title").hide();
			
		

		var Slider = {},
			baseWidth = null,
			$Base,
			ShowItemLength = 3;
		Slider.index = new Array;

		Slider.makeSlider = function(){
			$(".slider").each(function(index, item){
				$sliderBody = $(item).find(".slider-body");
				$sliderBody.addClass("slider--"+index);
				$sliderBody.find("ul").html("");
				var tempI = 0;
				for(i=0;i< portItemList.length;i++){
					if(portItemList[i]["type"]==index){
						var itemClass = (portItemList[i]["able"]=="true")? "able" : "block";
						$sliderBody.find("ul").append("<li class='"+itemClass+"' data-id='p"+portItemList[i]["id"]+"'><div class='each-item-wrap'><div class='slider-item'><div class='item-thumb'><img src='../assets/images/port/"+portItemList[i]["thumb"]+"' alt='썸네일'></div><p class='item-title'>"+portItemList[i]["title"]+"</p><span class='date'>"+ portItemList[i]["date"]+"</span></div></div></li>");
						tempI++;
					}else if(i!==0&&portItemList[i-1]["type"]==index && portItemList[i]["type"]!==index){
						break;
					}	
				}
			});
			$Base = $(".slider-body ul li").eq(0);
			this.setSlider();

		}

		Slider.setSlider = function(){
			$(".slider").each(function(index, item){
				$sliderBody = $(item).find(".slider-body");
				$sliderBody.addClass("slider--"+index);
				baseWidth = $Base.width();
				console.log(baseWidth, $sliderBody.find("li").length);
				$sliderBody.find("ul").css({"width":$sliderBody.find("li").length*baseWidth });
				Slider.index.push(0);
			});
		}
		Slider.moveSlide = function(drct, si){
			var sliderIndex = Slider.index[si];
			var $sliderBody = $(".slider").eq(si).find(".slider-body ul");
			var SliderItemNumb = $sliderBody.find("li").length;
			//console.log(sliderIndex);
			if(drct=="prev"){ // 이전
				if(sliderIndex==0){
				
				}else if(sliderIndex>0){
					sliderIndex -=1;
					var moving = baseWidth*sliderIndex;
					//console.log(moving);
					$sliderBody.animate({"left":-moving}, 500);
					Slider.index[si] = sliderIndex;
				}

			}else if(drct=="next"){ // 다음
				if(sliderIndex==SliderItemNumb-ShowItemLength ){}
				else if(sliderIndex<SliderItemNumb-ShowItemLength ){
					sliderIndex +=1;
					var moving = baseWidth*sliderIndex;
					//console.log(moving);
					$sliderBody.animate({"left":-moving}, 500);
					Slider.index[si] = sliderIndex;
				}
			}
			$(".arrow").removeClass("arrow-block");
		}
		Slider.makeSlider();

		$(".arrow").on("click", function(e){
			$(".arrow").addClass("arrow-block");
			e.preventDefault();
			var drct = $(this).attr("id");
			var si = $(this).parent(".slider").index();
			Slider.moveSlide(drct, si);
		});

		$(".slider-body li").on("click", function(e){
			var itemIndex = $(this).attr("data-id").slice(-1);
			//console.log(itemIndex);
			location.href = ("https://clamwell.github.io/port_v?portid="+itemIndex);
		});

	</script>

